#!/bin/sh

draw() {
    case $1 in
        1)
                ./openrgb --noautoconnect -c 000000
                ./openrgb --noautoconnect -d 3 -c F90000,F90000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb --noautoconnect -d 2 -c 000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb --noautoconnect -d 1 -c 000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb --noautoconnect -d 0 -c 000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        2)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,F90000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c F90000,000000,000000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000
                ;;
        3)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c F90000,000000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ;;
        4)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c F90000,F90000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c 000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c 000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        5)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c F90000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c F90000,F90000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ;;
        6)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c 000000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        7)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        8)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c 000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        9)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,F90000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c 000000,F90000,000000,000000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        0)
                ./openrgb --noautoconnect -c 000000
                ./openrgb  --noautoconnect -d 3 -c 000000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 2 -c F90000,000000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 1 -c F90000,000000,000000,000000,F90000,000000,000000,000000,000000,000000,000000,000000
                ./openrgb  --noautoconnect -d 0 -c 000000,F90000,F90000,F90000,000000,000000,000000,000000,000000,000000,000000,000000
                ;;
        *)
            echo "Digit not implemented or invalid."
            echo "$1"
            ;;
    esac
}

# Ensure an argument is provided
if [ -z "$1" ]; then
    echo "Usage: $0 <digit>"
    exit 1
fi

if [ "$1" = "--clear" ]; then
  ./openrgb -c 000000
  exit 0
fi

# Infinite cycle mode
if [ "$1" = "--cycle" ]; then
    while true; do
        i=0
        while [ $i -lt 10 ]; do
            draw "$i"
            sleep 2
            i=$((i+1))
        done
    done
fi

# Single digit mode
if echo "$1" | grep -qE '^[0-9]$'; then
    draw "$1"
else
    echo "Error: Invalid argument. Use a single digit (0-9) or --cycle."
    exit 1
fi
